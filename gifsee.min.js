var gifsee=function(a){this.element=a,this.element.complete?(this.gif=this.element.getAttribute('data-gifsee'),this.src=this.element.src,this.classN=this.element.className,this.imageId=this.element.id,this.circle=this.generateCircle(),this.circleText=this.circle.children[0],this.image=this.generateImage(),this.container=this.generateContainer(),this.parentElement=this.element.parentElement,this.container.appendChild(this.image),this.container.appendChild(this.circle),this.loaded=!1,this.blobURL,this.isPlaying=!1,this.parentElement.replaceChild(this.container,this.element),this.parentElement.addEventListener('click',(b)=>{b.target===this.circle||b.target===this.circleText?this.showGif():this.isPlaying&&(b.target===this.circle||b.target===this.circleText||b.target===this.container||b.target===this.image)&&this.hideGif()})):this.element.onload=()=>{this.gif=this.element.getAttribute('data-gifsee'),this.src=this.element.src,this.classN=this.element.className,this.imageId=this.element.id,this.circle=this.generateCircle(),this.circleText=this.circle.children[0],this.image=this.generateImage(),this.container=this.generateContainer(),this.parentElement=this.element.parentElement,this.container.appendChild(this.image),this.container.appendChild(this.circle),this.loaded=!1,this.blobURL,this.isPlaying=!1,this.parentElement.replaceChild(this.container,this.element),this.parentElement.addEventListener('click',(b)=>{b.target===this.circle||b.target===this.circleText?this.showGif():this.isPlaying&&(b.target===this.circle||b.target===this.circleText||b.target===this.container||b.target===this.image)&&this.hideGif()})}};gifsee.prototype.generateCircle=function(){var a=document.createElement('div');a.className='gifsee-circle';var b=document.createElement('span');return b.className='text',a.appendChild(b),a},gifsee.prototype.generateContainer=function(){var a=document.createElement('div');return a.style.position='relative',a.style.width=this.element.offsetWidth+'px',a},gifsee.prototype.generateImage=function(){var b=document.createElement('img');return b.className=this.classN,b.id=this.imageId,b.src=this.src,b.setAttribute('data-gif-location',this.gif),b},gifsee.prototype.showGif=function(){this.loaded?(this.image.src=this.blobURL,this.circle.style.display='none',this.isPlaying=!0):this.fetchGif().then((a)=>{this.blobURL=URL.createObjectURL(a),this.loaded=!0,this.circle.classList.remove('loading'),this.image.src=this.blobURL,this.circle.style.display='none',this.isPlaying=!0})},gifsee.prototype.fetchGif=function(){return this.circle.classList.add('loading'),new Promise((a,b)=>{fetch(this.gif).then(function(c){c.blob().then(function(d){a(d)}).catch(function(d){b(d)})}).catch(function(c){b(c)})})},gifsee.prototype.hideGif=function(){this.image.src=this.src,this.circle.style.display='block',this.isPlaying=!1};